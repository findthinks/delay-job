var me=Object.defineProperty,pe=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var ee=(e,t,r)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,W=(e,t)=>{for(var r in t||(t={}))Ce.call(t,r)&&ee(e,r,t[r]);if(K)for(var r of K(t))He.call(t,r)&&ee(e,r,t[r]);return e},te=(e,t)=>pe(e,be(t));var ae=(e,t,r)=>new Promise((m,n)=>{var C=v=>{try{g(r.next(v))}catch(H){n(H)}},d=v=>{try{g(r.throw(v))}catch(H){n(H)}},g=v=>v.done?m(v.value):Promise.resolve(v.value).then(C,d);g((r=r.apply(e,t)).next())});import{p as h,aV as _e,b5 as ye,af as y,a as q,Y as Pe,w as A,f as k,ac as $e,W as Fe,N as Z,cE as ke,ab as we,dX as Be,cR as Re,b as se,bj as Se,ar as ce,o as V,i as X,n as U,ax as T,r as z,bx as ue,am as Te,ag as D,dY as Ae,Z as de,j as w,d6 as Ne,dZ as Oe,c_ as Ie,cY as je,bd as P,S as Ee,ai as ne,at as re,k as oe,av as Ve,aw as ze,B as x,ay as We,az as xe,F as De,D as Le,t as Me,au as Ye,l as ie,aA as fe}from"./index.c6cd9d59.js";import{B as Ze}from"./index.2ea56e6e.js";import{A as Xe}from"./index.de09d623.js";import{u as Ue}from"./useWindowSizeFn.d7e3700c.js";import{a as qe}from"./useContentViewHeight.e48256e4.js";import{T as Ge}from"./transButton.15df72c4.js";import{A as Je}from"./ArrowLeftOutlined.ab0ba0f8.js";var Qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},Ke=Qe;function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},m=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),m.forEach(function(n){et(e,n,r[n])})}return e}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G=function(t,r){var m=le({},t,r.attrs);return h(_e,le({},m,{icon:Ke}),null)};G.displayName="ArrowRightOutlined";G.inheritAttrs=!1;var tt=G,at={backIcon:y.VNodeChild,prefixCls:y.string,title:y.VNodeChild,subTitle:y.VNodeChild,breadcrumb:y.object,tags:y.any,footer:y.VNodeChild,extra:y.VNodeChild,avatar:y.object,ghost:y.looseBool,onBack:y.func},nt=q({name:"APageHeader",props:at,emits:["back"],slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(t,r){var m=r.emit,n=r.slots,C=Pe("page-header",t),d=C.prefixCls,g=C.direction,v=C.pageHeader,H=A(!1),I=function(a){var l=a.width;H.value=l<768},$=k(function(){var o,a,l;return(l=(o=t.ghost)!==null&&o!==void 0?o:(a=v.value)===null||a===void 0?void 0:a.ghost)!==null&&l!==void 0?l:!0}),B=function(){var a,l,s;return(s=(a=t.backIcon)!==null&&a!==void 0?a:(l=n.backIcon)===null||l===void 0?void 0:l.call(n))!==null&&s!==void 0?s:g.value==="rtl"?h(tt,null,null):h(Je,null,null)},R=function(a){return!a||!t.onBack?null:h(Re,{componentName:"PageHeader",children:function(s){var b=s.back;return h("div",{class:"".concat(d.value,"-back")},[h(Ge,{onClick:function(c){m("back",c)},class:"".concat(d.value,"-back-button"),"aria-label":b},{default:function(){return[a]}})])}},null)},f=function(){var a;return t.breadcrumb?h(Ze,t.breadcrumb,null):(a=n.breadcrumb)===null||a===void 0?void 0:a.call(n)},S=function(){var a,l,s,b,i,c,u,F,N,L=t.avatar,j=(a=t.title)!==null&&a!==void 0?a:(l=n.title)===null||l===void 0?void 0:l.call(n),E=(s=t.subTitle)!==null&&s!==void 0?s:(b=n.subTitle)===null||b===void 0?void 0:b.call(n),M=(i=t.tags)!==null&&i!==void 0?i:(c=n.tags)===null||c===void 0?void 0:c.call(n),Y=(u=t.extra)!==null&&u!==void 0?u:(F=n.extra)===null||F===void 0?void 0:F.call(n),O="".concat(d.value,"-heading"),J=j||E||M||Y;if(!J)return null;var ve=B(),Q=R(ve),he=Q||L||J;return h("div",{class:O},[he&&h("div",{class:"".concat(O,"-left")},[Q,L?h(Xe,L,null):(N=n.avatar)===null||N===void 0?void 0:N.call(n),j&&h("span",{class:"".concat(O,"-title"),title:typeof j=="string"?j:void 0},[j]),E&&h("span",{class:"".concat(O,"-sub-title"),title:typeof E=="string"?E:void 0},[E]),M&&h("span",{class:"".concat(O,"-tags")},[M])]),Y&&h("span",{class:"".concat(O,"-extra")},[Y])])},_=function(){var a,l,s=(a=t.footer)!==null&&a!==void 0?a:we((l=n.footer)===null||l===void 0?void 0:l.call(n));return Be(s)?null:h("div",{class:"".concat(d.value,"-footer")},[s])},p=function(a){return h("div",{class:"".concat(d.value,"-content")},[a])};return function(){var o,a,l,s=((a=t.breadcrumb)===null||a===void 0?void 0:a.routes)||n.breadcrumb,b=t.footer||n.footer,i=$e((l=n.default)===null||l===void 0?void 0:l.call(n)),c=Fe(d.value,(o={"has-breadcrumb":s,"has-footer":b},Z(o,"".concat(d.value,"-ghost"),$.value),Z(o,"".concat(d.value,"-rtl"),g.value==="rtl"),Z(o,"".concat(d.value,"-compact"),H.value),o));return h(ke,{onResize:I},{default:function(){return[h("div",{class:c},[f(),S(),i.length?p(i):null,_()])]}})}}}),rt=ye(nt);const ot=q({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=se("page-footer"),{getCalcContentWidth:t}=Se();return{prefixCls:e,getCalcContentWidth:t}}});function it(e,t,r,m,n,C){return V(),X("div",{class:z(e.prefixCls),style:ue({width:e.getCalcContentWidth})},[U("div",{class:z(`${e.prefixCls}__left`)},[T(e.$slots,"left",{},void 0,!0)],2),T(e.$slots,"default",{},void 0,!0),U("div",{class:z(`${e.prefixCls}__right`)},[T(e.$slots,"right",{},void 0,!0)],2)],6)}var ge=ce(ot,[["render",it],["__scopeId","data-v-7984b8f2"]]);function lt(e){let t;Te(()=>{e(),D(()=>{t=!0})}),Ae(()=>{t&&e()})}function st(e,t,r,m,n=0,C=A(0)){const d=A(null),{footerHeightRef:g}=qe();let v={useLayoutFooter:!0};const H=f=>{v=f};function I(){D(()=>{R()})}function $(f,S="all"){var a,l,s,b;function _(i){return Number(i.replace(/[^\d]/g,""))}let p=0;const o="0px";if(f){const i=getComputedStyle(f),c=_((a=i==null?void 0:i.marginTop)!=null?a:o),u=_((l=i==null?void 0:i.marginBottom)!=null?l:o),F=_((s=i==null?void 0:i.paddingTop)!=null?s:o),N=_((b=i==null?void 0:i.paddingBottom)!=null?b:o);S==="all"?(p+=c,p+=u,p+=F,p+=N):S==="top"?(p+=c,p+=F):(p+=u,p+=N)}return p}function B(f){return f==null?null:f instanceof HTMLDivElement?f:f.$el}function R(){return ae(this,null,function*(){var b;if(!e.value)return;yield D();const f=B(w(t));if(!f)return;const{bottomIncludeBody:S}=Ne(f);let _=0;r.forEach(i=>{var c,u;_+=(u=(c=B(w(i)))==null?void 0:c.offsetHeight)!=null?u:0});let p=(b=$(f))!=null?b:0;m.forEach(i=>{p+=$(B(w(i)))});let o=0;function a(i,c){if(i&&c){const u=i.parentElement;u&&(Ie(c)?u.classList.contains(c)?o+=$(u,"bottom"):(o+=$(u,"bottom"),a(u,c)):je(c)&&c>0&&(o+=$(u,"bottom"),a(u,--c)))}}Oe(n)?a(f,w(n)):a(f,n);let l=S-w(g)-w(C)-_-p-o;const s=()=>{var i;(i=v.elements)==null||i.forEach(c=>{var u,F;l+=(F=(u=B(w(c)))==null?void 0:u.offsetHeight)!=null?F:0})};v.useLayoutFooter&&w(g)>0,s(),d.value=l})}return lt(()=>{D(()=>{R()})}),Ue(()=>{R()},50,{immediate:!0}),de(()=>[g.value],()=>{R()},{flush:"post",immediate:!0}),{redoHeight:I,setCompensation:H,contentHeight:d}}const ct=q({name:"PageWrapper",components:{PageFooter:ge,PageHeader:rt},inheritAttrs:!1,props:{title:P.string,dense:P.bool,ghost:P.bool,content:P.string,contentStyle:{type:Object},contentBackground:P.bool,contentFullHeight:P.bool,contentClass:P.string,fixedHeight:P.bool,upwardSpace:P.oneOfType([P.number,P.string]).def(0)},setup(e,{slots:t,attrs:r}){const m=A(null),n=A(null),C=A(null),d=A(null),{prefixCls:g}=se("page-wrapper");Ee(ft,k(()=>e.fixedHeight));const v=k(()=>e.contentFullHeight),H=k(()=>e.upwardSpace),{redoHeight:I,setCompensation:$,contentHeight:B}=st(v,m,[n,d],[C],H);$({useLayoutFooter:!0,elements:[d]});const R=k(()=>{var o;return[g,{[`${g}--dense`]:e.dense},(o=r.class)!=null?o:{}]}),f=k(()=>(t==null?void 0:t.leftFooter)||(t==null?void 0:t.rightFooter)),S=k(()=>Object.keys(ne(t,"default","leftFooter","rightFooter","headerContent"))),_=k(()=>{const{contentFullHeight:o,contentStyle:a,fixedHeight:l}=e;if(!o)return W({},a);const s=`${w(B)}px`;return W(te(W({},a),{minHeight:s}),l?{height:s}:{})}),p=k(()=>{const{contentBackground:o,contentClass:a}=e;return[`${g}-content`,a,{[`${g}-content-bg`]:o}]});return de(()=>[f.value],()=>{I()},{flush:"post",immediate:!0}),{getContentStyle:_,wrapperRef:m,headerRef:n,contentRef:C,footerRef:d,getClass:R,getHeaderSlots:S,prefixCls:g,getShowFooter:f,omit:ne,getContentClass:p}}});function ut(e,t,r,m,n,C){const d=re("PageHeader"),g=re("PageFooter");return V(),X("div",{class:z(e.getClass),ref:"wrapperRef"},[e.content||e.$slots.headerContent||e.title||e.getHeaderSlots.length?(V(),oe(d,Ye({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),Ve({default:x(()=>[e.content?(V(),X(De,{key:0},[Le(Me(e.content),1)],64)):T(e.$slots,"headerContent",{key:1})]),_:2},[ze(e.getHeaderSlots,v=>({name:v,fn:x(H=>[T(e.$slots,v,We(xe(H||{})))])}))]),1040,["ghost","title"])):ie("",!0),U("div",{class:z(["overflow-hidden",e.getContentClass]),style:ue(e.getContentStyle),ref:"contentRef"},[T(e.$slots,"default")],6),e.getShowFooter?(V(),oe(g,{key:1,ref:"footerRef"},{left:x(()=>[T(e.$slots,"leftFooter")]),right:x(()=>[T(e.$slots,"rightFooter")]),_:3},512)):ie("",!0)],2)}var dt=ce(ct,[["render",ut]]);fe(ge);const _t=fe(dt),ft="PageWrapperFixedHeight";export{_t as P,ft as a,lt as o};
