import{ar as w,a as I,cQ as b,bi as g,bD as k,bd as M,b as $,c as U,v as O,f as A,at as t,o as C,i as x,p as n,B as m,k as B,l as E,n as r,r as s,t as N,F as P,bG as R}from"./index.c6cd9d59.js";import{D as S}from"./siteSetting.528cdef9.js";import{c as h,u as V}from"./index.13dd6b06.js";import{b as T}from"./index.516d775a.js";import{h as F}from"./header.d801b988.js";import"./FullscreenOutlined.95b6bc70.js";import"./index.ff6bff65.js";import"./useWindowSizeFn.d7e3700c.js";import"./useContentViewHeight.e48256e4.js";import"./useSortable.c23ab760.js";import"./_baseIteratee.15e11edf.js";import"./get.1c474c66.js";import"./index.51422c33.js";import"./warning.e82de0db.js";import"./lock.b523afab.js";import"./isEqual.5cd663ea.js";const z=I({name:"UserDropdown",components:{Dropdown:b,Menu:g,MenuItem:h(()=>k(()=>import("./DropMenuItem.97adc25a.js"),["assets/DropMenuItem.97adc25a.js","assets/index.c6cd9d59.js","assets/index.672fb376.css"])),MenuDivider:g.Divider,LockAction:h(()=>k(()=>import("./LockModal.0a86db2d.js"),["assets/LockModal.0a86db2d.js","assets/LockModal.0068f88c.css","assets/index.c6cd9d59.js","assets/index.672fb376.css","assets/index.516d775a.js","assets/index.f6def211.css","assets/useWindowSizeFn.d7e3700c.js","assets/FullscreenOutlined.95b6bc70.js","assets/isEqual.5cd663ea.js","assets/get.1c474c66.js","assets/useForm.306d84e7.js","assets/useForm.e79f6476.css","assets/index.1764bc9d.js","assets/index.722537ae.css","assets/index.c3e8013e.js","assets/index.ccc15a38.css","assets/responsiveObserve.a808bc28.js","assets/_baseIteratee.15e11edf.js","assets/useSize.d1c02cee.js","assets/index.35447d01.js","assets/index.17eb4c41.css","assets/index.2e3f3fc1.js","assets/index.261db5f7.css","assets/index.84a3ee03.js","assets/index.c4896195.css","assets/index.58195024.js","assets/index.e0a015a1.css","assets/warning.e82de0db.js","assets/index.40da7c35.js","assets/index.9905f316.css","assets/index.3fd27773.js","assets/index.7b8b5e30.css","assets/useSortable.c23ab760.js","assets/download.dbdf06c7.js","assets/index.11bb4552.js","assets/lock.b523afab.js","assets/header.d801b988.js"]))},props:{theme:M.oneOf(["dark","light"])},setup(){const{prefixCls:e}=$("header-user-dropdown"),{t:u}=U(),{getShowDoc:d,getUseLockPage:f}=V(),a=O(),_=A(()=>{const{account:p="",avatar:y,desc:L}=a.getUserInfo||{};return{account:p,avatar:y||F,desc:L}}),[o,{openModal:i}]=T();function c(){i(!0)}function l(){a.confirmLoginOut()}function v(){R(S)}function D(p){switch(p.key){case"logout":l();break;case"doc":v();break;case"lock":c();break}}return{prefixCls:e,t:u,getUserInfo:_,handleMenuClick:D,getShowDoc:d,register:o,getUseLockPage:f}}}),G=["src"];function H(e,u,d,f,a,_){const o=t("MenuItem"),i=t("Menu"),c=t("Dropdown"),l=t("LockAction");return C(),x(P,null,[n(c,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:m(()=>[n(i,{onClick:e.handleMenuClick},{default:m(()=>[e.getUseLockPage?(C(),B(o,{key:"lock",text:e.t("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):E("",!0),n(o,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])]),_:1},8,["onClick"])]),default:m(()=>[r("span",{class:s([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[r("img",{class:s(`${e.prefixCls}__header`),src:e.getUserInfo.avatar},null,10,G),r("span",{class:s(`${e.prefixCls}__info hidden md:block`)},[r("span",{class:s([`${e.prefixCls}__name  `,"truncate"])},N(e.getUserInfo.account),3)],2)],2)]),_:1},8,["overlayClassName"]),n(l,{onRegister:e.register},null,8,["onRegister"])],64)}var ie=w(z,[["render",H]]);export{ie as default};
